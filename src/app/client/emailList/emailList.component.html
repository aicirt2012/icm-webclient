<div fxLayout="row" fxFlex class="full-height email-list-container">
  <div fxLayout="column" fxFlex="25">
    <search-bar [searchEmailBox]="searchEmailBox"></search-bar>
      <div fxFlex class="infinite-scroll-body email-list" infinite-scroll [infiniteScrollDistance]="scrollDistance" [infiniteScrollThrottle]="scrollThrottle"
        [scrollWindow]="false" (scrolled)="onScroll()">
        <div fxFlex fxLayout="column" class="email-list-item" [routerLink]="mail.route" [class.route-active]="isActive(mail.route)"
          [class.unseen]="!isRead(mail)" *ngFor="let mail of emails; let i = index">
          <div fxFlex="33" fxLayout="row">
            <h4 fxFlex fxLayoutAlign="start center">
              <span>{{mail.from[0].name ? mail.from[0].name : mail.from[0].address}}</span>
            </h4>
            <h5 fxFlex fxLayoutAlign="end center">
              <span>{{mail.date | date:'shortDate'}} {{mail.date | date:'shortTime'}}</span>
            </h5>
          </div>
          <h5 fxFlex="33"> {{mail.subject}} </h5>
          <p fxFlex="33"> {{mail.text.substring(0,100)}} </p>
    </div>
  </div>
  <div class="loading-list" *ngIf="loadingList" fxLayoutAlign="center center">Loading...</div>
  </div>
  <div fxFlex="75">
    <router-outlet></router-outlet>
  </div>
</div>
