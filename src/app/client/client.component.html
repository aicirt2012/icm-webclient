<div class="flex-container full-height" fxLayout="column">
  <top-navbar></top-navbar>
  <spinner *ngIf="syncing" fxFlex [loading]="syncing"></spinner>
  <div *ngIf="!syncing && noMailboxConnected" fxFlex fxLayoutAlign="center center">
    Please connect to a mailbox in <a routerLink="/settings/email">&nbsp;Settings</a>
  </div>
  <div *ngIf="!syncing && !noMailboxConnected" fxLayout="row" [@fadeInOut]="!syncing" fxFlex>
    <navbar fxFlex="15" [boxList]="boxList" (onRefresh)="onRefresh($event)" (openDialog)="openDialog($event)" [lastSync]="user.lastSync"
            (onOpenEmailFolderDialog)="onOpenEmailFolderDialog($event)">
    </navbar>
    <spinner *ngIf="loading" fxFlex [loading]="loading"></spinner>
    <div *ngIf="!loading" [@fadeInOut]="!loading" fxFlex="85" fxLayout="row">
      <list [emails]="emails" [loadingList]="loadingList" (searchEmailBox)="searchEmailBox($event)" (onEmailListScrolling)="onEmailListScrolling($event)" fxFlex="25"></list>
      <detailed-view *ngIf="email" [email]="email" [boxList]="boxList" fxFlex="55" (onEmailMoveToBox)="onEmailMoveToBox($event)" (onDeleteFlags)="onDeleteFlags($event)" (onAddFlags)="onAddFlags($event)"></detailed-view>
      <tasks *ngIf="email" [email]="email" [user]="user" fxFlex="20"></tasks>
  </div>
  </div>
</div>
