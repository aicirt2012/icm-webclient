<div class="flex-container full-height" fxLayout="column">
  <top-navbar></top-navbar>
  <spinner *ngIf="syncing" fxFlex [loading]="syncing"></spinner>
  <div *ngIf="!syncing && noMailboxConnected" fxFlex fxLayoutAlign="center center">
    Please connect to a mailbox in <a routerLink="/settings/email">&nbsp;Settings</a>
  </div>
  <div *ngIf="!syncing && !noMailboxConnected" fxLayout="row" [@fadeInOut]="!syncing" fxFlex class="scrollable">
    <navbar fxFlex="15" [boxList]="boxList" (onRefresh)="onRefresh($event)" (openModal)="openModal($event)"
            (onBoxAdd)="onBoxAdd($event)" (onBoxDelete)="onBoxDelete($event)">
    </navbar>
    <spinner *ngIf="loading" fxFlex [loading]="loading"></spinner>
    <div *ngIf="!loading" [@fadeInOut]="!loading" fxFlex fxLayout="row">
      <list [emails]="emails" (getSingleMail)="getSingleMail($event)" fxFlex="25"></list>
      <detailed-view *ngIf="email" [email]="email" (openModal)="openModal($event)" fxFlex="55"></detailed-view>
        <tasks *ngIf="email" [email]="email" [boards]="boards" (syncTasksForMail)="syncTasksForMail()" (openTaskModal)="openTaskModal($event)" (closeTaskModalOutput)="closeTaskModalOutput($event)" fxFlex="20"></tasks>
  </div>
  </div>
</div>
<!-- <email-modal [email]="email" [modalType]="currentModalType" (closeModal)="closeModal()"></email-modal>
<task-modal [email]="email" [taskModalType]="taskModalType" (closeTaskModal)="closeTaskModal($event)" [suggestedTask]="suggestedTask" (createTask)="createTask($event)"></task-modal> -->
